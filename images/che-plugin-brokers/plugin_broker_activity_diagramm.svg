<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="773px" preserveAspectRatio="none" style="width:810px;height:773px;" version="1.1" viewBox="0 0 810 773" width="810px" zoomAndPan="magnify"><defs><filter height="300%" id="f1k2f42he0w6b0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1k2f42he0w6b0)" height="155.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="313" y="146.5625"/><rect fill="#FFFFFF" filter="url(#f1k2f42he0w6b0)" height="34" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="419" y="643.4531"/><rect fill="#FFFFFF" filter="url(#f1k2f42he0w6b0)" height="151.8281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756.5" y="433.3594"/><rect fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="730" y="402.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="737" y="422.2217">broker</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="27" x2="27" y1="86.2969" y2="686.4531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="153.5" x2="153.5" y1="86.2969" y2="686.4531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="317.5" x2="317.5" y1="86.2969" y2="686.4531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="423.5" x2="423.5" y1="86.2969" y2="686.4531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="498.5" x2="498.5" y1="86.2969" y2="686.4531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="761" x2="761" y1="434.875" y2="686.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="82.9951">User</text><ellipse cx="27" cy="13" fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27,21 L27,48 M14,29 L40,29 M27,48 L14,63 M27,48 L40,63 " fill="none" filter="url(#f1k2f42he0w6b0)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="698.4482">User</text><ellipse cx="27" cy="711.75" fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27,719.75 L27,746.75 M14,727.75 L40,727.75 M27,746.75 L14,761.75 M27,746.75 L40,761.75 " fill="none" filter="url(#f1k2f42he0w6b0)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="103.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="110.5" y="70.9951">Che_master</text><rect fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="103.5" y="685.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="110.5" y="705.4482">Che_master</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="262.5" y="82.9951">Plugin_Registry</text><path d="M300,34 C300,24 318,24 318,24 C318,24 336,24 336,34 L336,60 C336,70 318,70 318,70 C318,70 300,70 300,60 L300,34 " fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M300,34 C300,44 318,44 318,44 C318,44 336,44 336,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="262.5" y="698.4482">Plugin_Registry</text><path d="M300,711.75 C300,701.75 318,701.75 318,701.75 C318,701.75 336,701.75 336,711.75 L336,737.75 C336,747.75 318,747.75 318,747.75 C318,747.75 300,747.75 300,737.75 L300,711.75 " fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M300,711.75 C300,721.75 318,721.75 318,721.75 C318,721.75 336,721.75 336,711.75 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="383.5" y="82.9951">workspace</text><ellipse cx="424" cy="54" fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="412" x2="436" y1="68" y2="68"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="383.5" y="698.4482">workspace</text><ellipse cx="424" cy="717.75" fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="412" x2="436" y1="731.75" y2="731.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="474.5" y="82.9951">plugin</text><ellipse cx="498.5" cy="54" fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="486.5" x2="510.5" y1="68" y2="68"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="474.5" y="698.4482">plugin</text><ellipse cx="498.5" cy="717.75" fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="486.5" x2="510.5" y1="731.75" y2="731.75"/><rect fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="730" y="685.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="737" y="705.4482">broker</text><rect fill="#FFFFFF" filter="url(#f1k2f42he0w6b0)" height="155.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="313" y="146.5625"/><rect fill="#FFFFFF" filter="url(#f1k2f42he0w6b0)" height="34" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="419" y="643.4531"/><rect fill="#FFFFFF" filter="url(#f1k2f42he0w6b0)" height="151.8281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756.5" y="433.3594"/><polygon fill="#A80036" points="486.5,113.4297,496.5,117.4297,486.5,121.4297,490.5,117.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="492.5" y1="117.4297" y2="117.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="34" y="112.3638">Create plugin</text><polygon fill="#A80036" points="301,142.5625,311,146.5625,301,150.5625,305,146.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="307" y1="146.5625" y2="146.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="34" y="141.4966">Publish meta of plugin</text><rect fill="#EEEEEE" filter="url(#f1k2f42he0w6b0)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="795" x="3" y="175.1289"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="798" y1="175.1289" y2="175.1289"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="798" y1="178.1289" y2="178.1289"/><rect fill="#EEEEEE" filter="url(#f1k2f42he0w6b0)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="257" x="272" y="164.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="238" x="278" y="180.6294">Plugin creation process finished</text><polygon fill="#A80036" points="412,214.8281,422,218.8281,412,222.8281,416,218.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="418" y1="218.8281" y2="218.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="34" y="213.7622">Add plugin to workspace</text><polygon fill="#A80036" points="142,268.9609,152,272.9609,142,276.9609,146,272.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="148" y1="272.9609" y2="272.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="34" y="267.895">Start workspace</text><polygon fill="#A80036" points="306,298.0938,316,302.0938,306,306.0938,310,302.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="154" x2="312" y1="302.0938" y2="302.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="161" y="297.0278">Find plugin in registry</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="154" x2="196" y1="356.2266" y2="356.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="196" x2="196" y1="356.2266" y2="369.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="155" x2="196" y1="369.2266" y2="369.2266"/><polygon fill="#A80036" points="165,365.2266,155,369.2266,165,373.2266,161,369.2266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="161" y="351.1606">Find broker for plugin</text><polygon fill="#A80036" points="718,419.3594,728,423.3594,718,427.3594,722,423.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="154" x2="724" y1="423.3594" y2="423.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="161" y="418.2935">Start broker and pass plugin meta</text><rect fill="#FEFECE" filter="url(#f1k2f42he0w6b0)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="730" y="402.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="737" y="422.2217">broker</text><polygon fill="#A80036" points="509.5,464.6563,499.5,468.6563,509.5,472.6563,505.5,468.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="503.5" x2="755.5" y1="468.6563" y2="468.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="515.5" y="463.5903">Parse plugin meta</text><polygon fill="#A80036" points="509.5,493.7891,499.5,497.7891,509.5,501.7891,505.5,497.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="503.5" x2="755.5" y1="497.7891" y2="497.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="515.5" y="492.7231">Download files if needed</text><polygon fill="#A80036" points="435,522.9219,425,526.9219,435,530.9219,431,526.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="429" x2="755.5" y1="526.9219" y2="526.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="441" y="521.856">Copy plugin files if needed</text><polygon fill="#A80036" points="509.5,552.0547,499.5,556.0547,509.5,560.0547,505.5,556.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="503.5" x2="755.5" y1="556.0547" y2="556.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="515.5" y="550.9888">Find or generate workspace changes</text><polygon fill="#A80036" points="165,581.1875,155,585.1875,165,589.1875,161,585.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="159" x2="760.5" y1="585.1875" y2="585.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="171" y="580.1216">Send response</text><polygon fill="#A80036" points="412,610.3203,422,614.3203,412,618.3203,416,614.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="154" x2="418" y1="614.3203" y2="614.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="161" y="609.2544">Apply changes from broker if needed</text><polygon fill="#A80036" points="407,639.4531,417,643.4531,407,647.4531,411,643.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="154" x2="413" y1="643.4531" y2="643.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="161" y="638.3872">Start workspace</text><!--
@startuml
actor User
participant Che_master
database Plugin_Registry
entity workspace
entity plugin

User -> plugin : Create plugin
User -> Plugin_Registry : Publish meta of plugin
activate Plugin_Registry
== Plugin creation process finished ==
User -> workspace : Add plugin to workspace
|||
User -> Che_master : Start workspace
Che_master -> Plugin_Registry : Find plugin in registry
deactivate Plugin_Registry
|||
Che_master -> Che_master : Find broker for plugin
|||
create broker
Che_master -> broker : Start broker and pass plugin meta
activate broker
broker -> plugin : Parse plugin meta
broker -> plugin : Download files if needed
broker -> workspace : Copy plugin files if needed
broker -> plugin : Find or generate workspace changes
broker -> Che_master : Send response
deactivate broker
Che_master -> workspace : Apply changes from broker if needed
Che_master -> workspace : Start workspace
activate workspace
|||
@enduml

PlantUML version 1.2018.13(Mon Nov 26 17:11:51 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>